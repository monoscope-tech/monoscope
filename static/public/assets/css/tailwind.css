@import 'tailwindcss';
@source "../../../../src/**/*.{html,js,hs}";
@source "../**/*.{html,js}";
@source "../testeditor.js";
@source "../explorer-list.js";
@source "../../../../web-components/**/*.{js,jsx,ts,tsx,vue}";

@layer base, utilities, custom;

@config '../../../../config/tailwind.config.js';
@plugin "@tailwindcss/typography";
@plugin "daisyui" {
  themes:
    light --default,
    dark --prefersdark,
    cupcake;
}

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Hover-only variant: Only applies hover effects on devices that support hover (not touch) */
@custom-variant hover-only (@media (hover: hover) and (pointer: fine));

/* JetBrains Mono font */
@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("/public/assets/fonts/JetBrainsMono[wght].ttf") format("truetype");
}

/* Inter Variable fonts */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("/public/assets/fonts/InterVariable.ttf") format("truetype");
}

@font-face {
  font-family: 'Inter';
  font-style: italic;
  font-weight: 100 900;
  font-display: swap;
  src: url("/public/assets/fonts/InterVariable-Italic.ttf") format("truetype");
}

/* Basic Inter font features */
@font-feature-settings {
  'ss01': 1,  /* Sans-serif simple a */
  'ss02': 1,  /* Sans-serif g */
  'cv01': 1,  /* Open zero */
  'cv02': 1   /* Open four */
}

@theme {
  /* Animation duration constants */
  --duration-fast: 100ms;
  --duration-normal: 150ms;
  --duration-slow: 250ms;
  --duration-slower: 400ms;

  /* Custom easing functions (Emil's recommendations) */
  --ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);
  --ease-in-out-quint: cubic-bezier(0.86, 0, 0.07, 1);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);

  /* Simple colors */
  --color-gray-25: oklch(99.1% 0.002 247);
  --color-gray-150: oklch(94.5% 0.005 247);
  --color-slate-25: oklch(99.1% 0.002 226);
  --color-slate-150: oklch(94.5% 0.007 226);
  --color-slate-250: oklch(89.2% 0.012 226);

  /* Background colors */
  --color-bgAlternate: oklch(97.7% 0.006 247);
  --color-bgBase: oklch(99.1% 0.002 247);
  --color-bgInverse: oklch(16.4% 0.012 263);
  --color-bgOverlay: oklch(99.1% 0.002 247);
  --color-bgRaised: oklch(99.1% 0.002 247);
  --color-bgSunken: oklch(97.7% 0.006 247);
  --color-bgBrand: rgb(0 104 255);

  /* Fill colors */
  --color-fillBrand-strong: rgb(0 104 255);
  --color-fillBrand-weak: rgba(0 104 255 / 0.05);
  --color-fillDisabled: rgba(0 17 102 / 0.1);
  --color-fillStrong: rgba(0 6 38 / 0.9);
  --color-fillError-strong: oklch(51.3% 0.197 21);
  --color-fillError-weak: rgba(255 74 74 / 0.05);
  --color-fillHover: rgba(0 21 128 / 0.04);
  --color-fillInformation-strong: oklch(49.3% 0.088 241);
  --color-fillInformation-weak: rgba(38 176 255 / 0.05);
  --color-fillInverseDisabled: rgba(255 255 255 / 0.12);
  --color-fillInverse-hover: rgba(255 255 255 / 0.06);
  --color-fillInverse-press: rgba(255 255 255 / 0.12);
  --color-fillInverse-strong: oklch(99.1% 0.002 247);
  --color-fillInverse-weak: rgba(255 255 255 / 0.06);
  --color-fillOverlay: rgba(0 13 77 / 0.45);
  --color-fillPress: rgba(0 17 102 / 0.1);
  --color-fillSelected: rgb(0 104 255);
  --color-fillSuccess-strong: oklch(47.8% 0.130 162);
  --color-fillSuccess-weak: rgba(10 204 146 / 0.05);
  --color-fillWarning-strong: oklch(54.7% 0.126 69);
  --color-fillWarning-weak: rgba(255 192 46 / 0.05);
  --color-fillWeak: rgba(0 21 128 / 0.04);
  --color-fillWeaker: rgba(0 21 128 / 0.02);
  --color-fillWhite: rgb(255 255 255);
  --color-fillYellow: oklch(85.8% 0.179 92);

  /* Icon colors */
  --color-iconBrand: rgba(0 104 255 / 0.8);
  --color-iconDisabled: rgba(0 17 102 / 0.1);
  --color-iconError: rgba(199 58 58 / 0.8);
  --color-iconInformation: rgba(26 116 168 / 0.8);
  --color-iconInverse: rgba(255 255 255 / 0.6);
  --color-iconInverseDisabled: rgba(255 255 255 / 0.12);
  --color-iconInverse-strong: rgb(255 255 255);
  --color-iconNeutral: rgba(0 13 77 / 0.45);
  --color-iconSuccess: rgba(6 122 87 / 0.8);
  --color-iconWarning: rgba(143 108 26 / 0.8);

  /* Stroke colors */
  --color-strokeBrand-strong: rgba(0 104 255 / 0.8);
  --color-strokeBrand-weak: rgba(0 104 255 / 0.2);
  --color-strokeDisabled: rgba(0 17 102 / 0.1);
  --color-strokeError-strong: rgba(199 58 58 / 0.8);
  --color-strokeError-weak: rgba(199 58 58 / 0.14);
  --color-strokeFocus: rgb(0 104 255);
  --color-strokeInformation-strong: rgba(26 116 168 / 0.8);
  --color-strokeInformation-weak: rgba(26 116 168 / 0.2);
  --color-strokeInverseDisabled: rgba(255 255 255 / 0.12);
  --color-strokeInverse-strong: rgba(255 255 255 / 0.6);
  --color-strokeInverse-weak: rgba(255 255 255 / 0.12);
  --color-strokeSelected: rgb(0 104 255);
  --color-strokeStrong: rgba(0 13 77 / 0.45);
  --color-strokeSuccess-strong: rgba(6 122 87 / 0.8);
  --color-strokeSuccess-weak: rgba(6 122 87 / 0.2);
  --color-strokeWarning-strong: rgba(143 108 26 / 0.8);
  --color-strokeWarning-weak: rgba(143 108 26 / 0.2);
  --color-strokeWeak: rgba(0 17 102 / 0.1);

  /* Text colors */
  --color-textBrand: rgb(0 104 255);
  --color-textDisabled: rgba(0 13 77 / 0.45);
  --color-textError: oklch(51.3% 0.197 21);
  --color-textInformation: oklch(49.3% 0.088 241);
  --color-textSuccess: oklch(47.8% 0.130 162);
  --color-textWarning: oklch(54.7% 0.126 69);
  --color-textInverseDisabled: rgba(255 255 255 / 0.12);
  --color-textInverse-strong: rgb(255 255 255);
  --color-textInverse-weak: rgba(255 255 255 / 0.78);
  --color-textStrong: rgba(0 6 38 / 0.9);
  --color-textWeak: rgba(0 8 51 / 0.65);
  --animate-fadeBg: fadeBg 2s ease-out;


  @keyframes fadeBg {
    0% { background-color: rgb(0 104 255) }
    70% { background-color: rgb(0 104 255)}
    100% { background-color: transparent }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes fadeSlideIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes modalIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
}

/* Animation and component styles */
@layer custom {
  /* Staggered list animations - apply .stagger-fade to container
     First 8 items stagger at 50ms intervals, items 9+ cycle at 25ms intervals from 400ms base */
  .stagger-fade > * { opacity: 0; animation: fadeSlideIn 200ms ease-out forwards; }
  .stagger-fade > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-fade > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-fade > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-fade > *:nth-child(4) { animation-delay: 150ms; }
  .stagger-fade > *:nth-child(5) { animation-delay: 200ms; }
  .stagger-fade > *:nth-child(6) { animation-delay: 250ms; }
  .stagger-fade > *:nth-child(7) { animation-delay: 300ms; }
  .stagger-fade > *:nth-child(8) { animation-delay: 350ms; }
  .stagger-fade > *:nth-child(n+9) { --stagger-base: 400ms; }
  .stagger-fade > *:nth-child(8n+9) { animation-delay: calc(var(--stagger-base) + 0ms); }
  .stagger-fade > *:nth-child(8n+10) { animation-delay: calc(var(--stagger-base) + 25ms); }
  .stagger-fade > *:nth-child(8n+11) { animation-delay: calc(var(--stagger-base) + 50ms); }
  .stagger-fade > *:nth-child(8n+12) { animation-delay: calc(var(--stagger-base) + 75ms); }
  .stagger-fade > *:nth-child(8n+13) { animation-delay: calc(var(--stagger-base) + 100ms); }
  .stagger-fade > *:nth-child(8n+14) { animation-delay: calc(var(--stagger-base) + 125ms); }
  .stagger-fade > *:nth-child(8n+15) { animation-delay: calc(var(--stagger-base) + 150ms); }
  .stagger-fade > *:nth-child(8n+16) { animation-delay: calc(var(--stagger-base) + 175ms); }
  .stagger-fade > *:focus-visible { opacity: 1 !important; animation: none; }

  /* Button press feedback - applies to all DaisyUI buttons for tactile feel */
  .btn { transition: transform 75ms ease-out; }
  .btn:active:not(:disabled) { transform: scale(0.98); }

  /* Smooth drawer slide-in/out animation with backdrop fade */
  .drawer-side {
    transition: visibility 0s linear 250ms;
  }
  .drawer-toggle:checked ~ .drawer-side {
    transition: visibility 0s linear 0s;
  }
  .drawer-side > .drawer-overlay {
    opacity: 0;
    transition: opacity 250ms var(--ease-out-expo);
  }
  .drawer-toggle:checked ~ .drawer-side > .drawer-overlay {
    opacity: 1;
  }
  .drawer-side .drawer-content-animated,
  .drawer-side > *:not(.drawer-overlay) {
    transform: translateX(100%);
    transition: transform 250ms var(--ease-out-expo);
  }
  .drawer-toggle:checked ~ .drawer-side .drawer-content-animated,
  .drawer-toggle:checked ~ .drawer-side > *:not(.drawer-overlay) {
    transform: translateX(0);
  }
  /* Left-side drawers */
  .drawer-side.drawer-start .drawer-content-animated,
  .drawer-side.drawer-start > *:not(.drawer-overlay) {
    transform: translateX(-100%);
  }
  .drawer-toggle:checked ~ .drawer-side.drawer-start .drawer-content-animated,
  .drawer-toggle:checked ~ .drawer-side.drawer-start > *:not(.drawer-overlay) {
    transform: translateX(0);
  }

  /* Modal fade-scale animation with exit */
  .modal-box {
    animation: modalIn 150ms var(--ease-out-expo);
  }
  .modal-toggle:not(:checked) + .modal:not(.modal-open) .modal-box {
    animation: modalOut 120ms ease-in forwards;
  }
  @keyframes modalOut {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.96); }
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
    .stagger-fade > * { animation: none; opacity: 1; }
  }

  /* Disable transitions during theme switch */
  .no-transition *, .no-transition *::before, .no-transition *::after {
    transition: none !important;
  }

  /* Minimum tap target size for accessibility */
  .tap-target {
    position: relative;
    min-width: 22px;
    min-height: 22px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  /* Button loading state during HTMX requests */
  form.htmx-request button[type="submit"],
  button[type="submit"].htmx-request,
  .btn.htmx-request {
    pointer-events: none;
    opacity: 0.7;
  }
  form.htmx-request button[type="submit"]::after,
  button[type="submit"].htmx-request::after,
  .btn.htmx-request::after {
    content: "";
    width: 1em;
    height: 1em;
    margin-left: 0.5em;
    border: 2px solid currentColor;
    border-right-color: transparent;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    display: inline-block;
    vertical-align: middle;
  }
  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* Toggle switch optimistic feedback during HTMX requests */
  .toggle.htmx-request,
  form.htmx-request .toggle {
    opacity: 0.7;
    pointer-events: none;
    position: relative;
  }
  .toggle.htmx-request::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
    background-size: 200% 100%;
    animation: toggleShimmer 1s ease-in-out infinite;
  }
  @keyframes toggleShimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* Global HTMX progress bar for long operations */
  .htmx-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--color-fillBrand-strong), var(--color-fillBrand-weak));
    z-index: 99999;
    opacity: 0;
    transition: opacity 150ms ease-out;
  }
  .htmx-progress.htmx-request {
    opacity: 1;
    animation: htmxProgress 2s ease-out forwards;
  }
  @keyframes htmxProgress {
    0% { width: 0; }
    20% { width: 30%; }
    50% { width: 60%; }
    80% { width: 85%; }
    100% { width: 95%; }
  }
  .htmx-progress.htmx-settling {
    width: 100%;
    transition: width 100ms ease-out, opacity 200ms ease-out 100ms;
    opacity: 0;
  }

  /* Input focus glow animation for better feedback */
  .input:focus, .select:focus, .textarea:focus {
    transition: border-color 150ms ease-out, box-shadow 150ms ease-out;
    box-shadow: 0 0 0 3px var(--color-strokeBrand-weak);
    border-color: var(--color-strokeBrand-strong);
  }

  /* Shake animation for form validation errors */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-4px); }
    40% { transform: translateX(4px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
  }
  .input-error, .shake {
    animation: shake 300ms ease-out;
  }

  /* Enhanced form validation states */
  .input-error, .select-error, .textarea-error,
  .input:invalid:not(:placeholder-shown),
  .textarea:invalid:not(:placeholder-shown) {
    border-color: var(--color-strokeError-strong);
    box-shadow: 0 0 0 3px var(--color-fillError-weak);
  }
  .input-success, .select-success, .textarea-success {
    border-color: var(--color-strokeSuccess-strong);
    box-shadow: 0 0 0 3px var(--color-fillSuccess-weak);
  }

  /* Form field hint/helper text */
  .field-hint {
    font-size: 0.75rem;
    color: var(--color-textWeak);
    margin-top: 0.25rem;
    transition: color 150ms ease-out;
  }
  .field-hint-error {
    color: var(--color-textError);
  }
  .field-hint-success {
    color: var(--color-textSuccess);
  }

  /* Required field indicator */
  .label-required::after {
    content: ' *';
    color: var(--color-textError);
  }

  /* Toast/Notification animations - entrance and exit */
  @keyframes toastIn {
    from { opacity: 0; transform: translateX(100%) scale(0.95); }
    to { opacity: 1; transform: translateX(0) scale(1); }
  }
  @keyframes toastOut {
    from { opacity: 1; transform: translateX(0) scale(1); }
    to { opacity: 0; transform: translateX(100%) scale(0.95); }
  }
  .toast-animate {
    animation: toastIn 250ms var(--ease-out-expo);
  }
  .toast-exit {
    animation: toastOut 200ms ease-in forwards;
  }

  /* Notyf toast enhancements */
  .notyf__toast {
    animation: toastIn 250ms var(--ease-out-expo);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
  .notyf__toast--disappear {
    animation: toastOut 200ms ease-in forwards;
  }

  /* Skeleton wave timing variations for visual interest */
  .skeleton-wave:nth-child(1) { animation-delay: 0s; }
  .skeleton-wave:nth-child(2) { animation-delay: 0.1s; }
  .skeleton-wave:nth-child(3) { animation-delay: 0.2s; }
  .skeleton-wave:nth-child(4) { animation-delay: 0.3s; }
  .skeleton-wave:nth-child(n+5) { animation-delay: 0.4s; }

  /* Badge color transitions for smooth state changes */
  .badge, .badge-outline, .badge-ghost {
    transition: background-color 150ms ease-out, color 150ms ease-out, border-color 150ms ease-out;
  }

  /* Dropdown chevron rotation */
  .dropdown summary svg,
  .dropdown [tabindex] svg,
  details summary > svg:last-child {
    transition: transform 200ms var(--ease-out-expo);
  }
  .dropdown:has(:focus) summary svg,
  .dropdown[open] summary svg,
  details[open] summary > svg:last-child,
  .dropdown:has(.dropdown-content:not(.hidden)) [tabindex] svg {
    transform: rotate(180deg);
  }

  /* Table row hover with subtle translate */
  tr.group\/row {
    transition: background-color 100ms ease-out, transform 100ms ease-out;
  }
  tr.group\/row:hover {
    transform: translateX(2px);
  }

  /* Content fade-in for lazy loaded content */
  .animate-fadeIn {
    animation: fadeSlideIn 200ms var(--ease-out-expo) forwards;
  }

  /* HTMX transition smoothing for less jarring content swaps */
  .htmx-swapping {
    opacity: 0.7;
    transition: opacity 100ms ease-out;
  }
  .htmx-settling > * {
    animation: fadeSlideIn 150ms var(--ease-out-expo) forwards;
  }
  /* Opt-in class for containers that want smoother HTMX transitions */
  .htmx-fade-target {
    transition: opacity 150ms ease-out;
  }
  .htmx-fade-target.htmx-swapping {
    opacity: 0.5;
  }

  /* Tab indicator slide animation */
  .tabs-box, .tabs-outline {
    position: relative;
  }
  .tab {
    transition: color 150ms ease-out, background-color 150ms ease-out, border-color 150ms ease-out;
  }
  .tab-active {
    transition: color 150ms ease-out, background-color 150ms ease-out, border-color 150ms ease-out, box-shadow 150ms ease-out;
  }

  /* Copy success feedback */
  .copy-success {
    position: relative;
  }
  .copy-success::after {
    content: 'âœ“';
    position: absolute;
    right: -1.5em;
    color: var(--color-fillSuccess-strong);
    animation: copyFeedback 1.5s var(--ease-out-expo) forwards;
  }
  @keyframes copyFeedback {
    0% { opacity: 0; transform: scale(0.5); }
    20% { opacity: 1; transform: scale(1.1); }
    30% { transform: scale(1); }
    80% { opacity: 1; }
    100% { opacity: 0; }
  }

  /* Icon button press feedback (extends btn behavior to icon containers) */
  .tap-target {
    transition: transform 75ms ease-out;
  }
  .tap-target:active {
    transform: scale(0.92);
  }

  /* Enhanced focus visibility with offset */
  /* :focus-visible:not(.no-focus-ring) { */
  /*   outline: 2px solid var(--color-strokeFocus); */
  /*   outline-offset: 2px; */
  /* } */
  .no-focus-ring:focus-visible {
    outline: none !important;
  }
  /* .btn:focus-visible, .input:focus-visible, .select:focus-visible, .textarea:focus-visible { */
  /*   outline-offset: 1px; */
  /* } */

  /* Progress bar subtle glow */
  .htmx-progress.htmx-request {
    box-shadow: 0 0 3px var(--color-fillBrand-strong);
  }

  /* Checkbox/toggle state transition */
  .checkbox, .toggle {
    transition: background-color 150ms ease-out, border-color 150ms ease-out, box-shadow 150ms ease-out;
  }

  /* Stat value highlight animation (for updates) */
  @keyframes statPulse {
    0% { background-color: transparent; }
    30% { background-color: var(--color-fillBrand-weak); }
    100% { background-color: transparent; }
  }
  .stat-updated {
    animation: statPulse 1s ease-out;
    border-radius: 4px;
  }

  /* Smooth skeleton to content transition */
  .skeleton-to-content {
    transition: opacity 200ms ease-out;
  }
  .skeleton-to-content.loaded {
    opacity: 1;
  }

  /* Alert/notification entrance */
  .alert {
    animation: fadeSlideIn 200ms var(--ease-out-expo);
  }

  /* Empty state gentle entrance animation */
  section:has(.emptyState), .empty-state {
    animation: emptyStateIn 400ms var(--ease-out-expo);
  }
  @keyframes emptyStateIn {
    from { opacity: 0; transform: translateY(16px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  /* Empty state icon float animation for delight */
  .empty-state svg, .empty-state-filtered svg {
    animation: gentleFloat 3s ease-in-out infinite;
  }
  @keyframes gentleFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  /* Table row interactions */
  .table tbody tr {
    transition: background-color 100ms ease-out;
  }
  .table tbody tr.selected {
    background-color: var(--color-fillBrand-weak);
    box-shadow: inset 3px 0 0 var(--color-fillBrand-strong);
  }
  .table tbody tr[data-href]:hover,
  .table tbody tr.cursor-pointer:hover {
    background-color: var(--color-fillHover);
  }

  /* Link hover underline animation */
  .link-animated {
    position: relative;
  }
  .link-animated::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 0;
    height: 1px;
    background: currentColor;
    transition: width 200ms var(--ease-out-expo);
  }
  .link-animated:hover::after {
    width: 100%;
  }

  /* Smooth scrollbar for small containers */
  .smooth-scroll {
    scroll-behavior: smooth;
  }
  .smooth-scroll::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  .smooth-scroll::-webkit-scrollbar-track {
    background: transparent;
  }
  .smooth-scroll::-webkit-scrollbar-thumb {
    background: var(--color-strokeWeak);
    border-radius: 3px;
  }
  .smooth-scroll::-webkit-scrollbar-thumb:hover {
    background: var(--color-strokeStrong);
  }

  /* Card hover lift effect */
  .card-lift {
    transition: transform 200ms var(--ease-out-expo), box-shadow 200ms ease-out;
  }
  .card-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 10px -5px rgba(0, 0, 0, 0.04);
  }

  /* Tooltip entrance animation */
  .tippy-box {
    animation: tooltipIn 100ms var(--ease-out-expo);
  }
  @keyframes tooltipIn {
    from { opacity: 0; transform: scale(0.96); }
    to { opacity: 1; transform: scale(1); }
  }

  /* Keyboard shortcut styling for tooltips and UI */
  kbd, .kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 1.5em;
    padding: 0.125em 0.375em;
    font-family: inherit;
    font-size: 0.75em;
    font-weight: 500;
    line-height: 1;
    color: var(--color-textWeak);
    background: var(--color-fillWeaker);
    border: 1px solid var(--color-strokeWeak);
    border-radius: 4px;
    box-shadow: 0 1px 0 var(--color-strokeWeak);
  }
  .tippy-content kbd {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    color: inherit;
    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  /* Contextual empty state - filtered vs truly empty */
  .empty-state-filtered {
    background: var(--color-fillBrand-weak);
    border: 1px dashed var(--color-strokeBrand-weak);
  }
  .empty-state-error {
    background: var(--color-fillError-weak);
    border: 1px dashed var(--color-strokeError-weak);
  }

  /* Pulsing dot for live/active indicators */
  .pulse-dot {
    position: relative;
  }
  .pulse-dot::before {
    content: '';
    position: absolute;
    width: 8px;
    height: 8px;
    background: var(--color-fillSuccess-strong);
    border-radius: 50%;
    animation: pulseDot 2s ease-in-out infinite;
  }
  @keyframes pulseDot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.2); }
  }

  /* Success state animation for completed actions */
  @keyframes successPop {
    0% { transform: scale(0); opacity: 0; }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); opacity: 1; }
  }
  .success-pop {
    animation: successPop 300ms var(--ease-out-expo);
  }

  /* Number badge bounce for notifications */
  @keyframes badgeBounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.15); }
  }
  .badge-bounce {
    animation: badgeBounce 300ms var(--ease-out-expo);
  }

  /* Skeleton text lines with varying widths for realistic content preview */
  .skeleton-text {
    height: 1em;
    border-radius: 4px;
  }
  .skeleton-text-short { width: 40%; }
  .skeleton-text-medium { width: 70%; }
  .skeleton-text-long { width: 90%; }
  .skeleton-text-full { width: 100%; }

  /* Error state card/container */
  .error-state {
    background: var(--color-fillError-weak);
    border: 1px solid var(--color-strokeError-weak);
    border-radius: 8px;
    padding: 1rem;
  }
  .error-state-icon {
    color: var(--color-fillError-strong);
  }

  /* Warning state */
  .warning-state {
    background: var(--color-fillWarning-weak);
    border: 1px solid var(--color-strokeWarning-weak);
    border-radius: 8px;
    padding: 1rem;
  }

  /* Navigation/breadcrumb polish */
  .nav-item {
    position: relative;
    transition: color 150ms ease-out, background-color 150ms ease-out;
  }
  .nav-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 0;
    background: var(--color-fillBrand-strong);
    border-radius: 0 2px 2px 0;
    transition: height 150ms var(--ease-out-expo);
  }
  .nav-item.active::before,
  .nav-item:hover::before {
    height: 60%;
  }
  .nav-item.active::before {
    height: 80%;
  }

  /* Breadcrumb separator animation */
  .breadcrumb-separator {
    opacity: 0.5;
    transition: opacity 150ms ease-out, transform 150ms ease-out;
  }
  .breadcrumb-item:hover + .breadcrumb-separator {
    opacity: 1;
    transform: translateX(2px);
  }

  /* Mobile touch improvements */
  @media (hover: none) and (pointer: coarse) {
    /* Larger tap targets on mobile */
    .btn-sm { min-height: 40px; }
    .tab { min-height: 44px; }

    /* Touch device visibility for elements normally hidden on hover */
    .touch\:opacity-100 { opacity: 1 !important; }
    .touch\:opacity-50 { opacity: 0.5 !important; }

    /* Disable hover states that cause sticky on touch */
    .card-lift:hover { transform: none; box-shadow: inherit; }
    tr.group\/row:hover { transform: none; }
  }

  /* Active/pressed states for touch */
  @media (hover: none) {
    .btn:active:not(:disabled) {
      transform: scale(0.97);
      transition: transform 50ms ease-out;
    }
    .tap-target:active {
      transform: scale(0.9);
      transition: transform 50ms ease-out;
    }
  }

  /* Table sorting feedback */
  th[data-sorting] {
    position: relative;
  }
  th[data-sorting="asc"]::after,
  th[data-sorting="desc"]::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--color-fillBrand-strong);
    animation: sortIndicator 200ms var(--ease-out-expo);
  }
  @keyframes sortIndicator {
    from { transform: scaleX(0); }
    to { transform: scaleX(1); }
  }

  /* Row highlight for newly added items */
  .row-new {
    animation: rowHighlight 2s ease-out;
  }
  @keyframes rowHighlight {
    0% { background-color: var(--color-fillBrand-weak); }
    100% { background-color: transparent; }
  }

  /* Collapsible section animation */
  .collapsible-content {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 200ms var(--ease-out-expo);
  }
  .collapsible-content.open {
    grid-template-rows: 1fr;
  }
  .collapsible-content > * {
    overflow: hidden;
  }

  /* Tooltip with arrow animation */
  .tooltip-animated::before {
    transition: opacity 100ms ease-out, transform 100ms ease-out;
    transform: translateY(4px);
    opacity: 0;
  }
  .tooltip-animated:hover::before {
    transform: translateY(0);
    opacity: 1;
  }

  /* Status indicator dot (inline) */
  .status-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-right: 0.5rem;
  }
  .status-dot-success { background: var(--color-fillSuccess-strong); }
  .status-dot-error { background: var(--color-fillError-strong); }
  .status-dot-warning { background: var(--color-fillWarning-strong); }
  .status-dot-info { background: var(--color-fillInformation-strong); }
  .status-dot-neutral { background: var(--color-fillWeak); }

  /* Loading overlay for containers */
  .loading-overlay {
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    animation: fadeIn 150ms ease-out;
  }
  [data-theme="dark"] .loading-overlay {
    background: rgba(0, 0, 0, 0.6);
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Query editor placeholder shimmer */
  .query-editor-placeholder {
    height: 38px;
    background: var(--color-fillWeaker);
    border: 1px solid var(--color-strokeWeak);
    border-radius: 6px;
    overflow: hidden;
    position: relative;
  }
  .query-editor-placeholder::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
    animation: shimmer 1.5s ease-in-out infinite;
    background-size: 200% 100%;
  }
}

@plugin "daisyui/theme" {
  name: 'light';
  default: true;
  prefersdark: false;
  color-scheme: 'light';
  --color-base-100: var(--color-bgBase);
  --color-base-200: rgba(0 21 128 / 0.04);
  --color-base-300: rgba(0 21 128 / 0.04);
  --color-base-content: rgba(0 6 38 / 0.9);
  --color-primary: rgb(0 104 255);
  --color-primary-content: rgb(255 255 255);
  --color-secondary: var(--color-textBrand);
  --color-secondary-content: rgba(0 8 51 / 0.65);
  --color-accent: rgba(0 21 128 / 0.02);
  --color-accent-content: rgb(0 104 255);
  --color-neutral: rgba(0 21 128 / 0.04);
  --color-neutral-content: rgba(0 6 38 / 0.9);
  --color-info: oklch(49.3% 0.088 241);
  --color-info-content: oklch(49.3% 0.088 241);
  --color-success: oklch(47.8% 0.13 162);
  --color-success-content: oklch(47.8% 0.13 162);
  --color-warning: oklch(54.7% 0.126 69);
  --color-warning-content: oklch(54.7% 0.126 69);
  --color-error: oklch(51.3% 0.197 21);
  --color-error-content: oklch(51.3% 0.197 21);
  --radius-selector: 0.4rem;
  --radius-field: 0.4rem;
  --radius-box: 1rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 1;
  --tw-prose-body: var(--color-textStrong) !important;
}

@plugin "daisyui/theme" {
  name: 'dark';
  default: false;
  prefersdark: true;
  color-scheme: 'dark';
  --color-base-100: var(--color-bgBase);
  --color-base-200: oklch(20% 0.022 263);
  --color-base-300: oklch(22% 0.022 263);
  --color-base-content: oklch(88% 0.020 263);
  --color-primary: rgb(59 130 246);
  --color-primary-content: oklch(88% 0.020 263);
  --color-secondary: var(--color-textBrand);
  --color-secondary-content: oklch(78% 0.020 263);
  --color-accent: rgba(255 255 255 / 0.03);
  --color-accent-content: rgb(59 130 246);
  --color-neutral: rgba(255 255 255 / 0.06);
  --color-neutral-content: oklch(88% 0.020 263);
  --color-info: oklch(75.5% 0.098 241);
  --color-info-content: oklch(75.5% 0.098 241);
  --color-success: oklch(75.3% 0.092 162);
  --color-success-content: oklch(75.3% 0.092 162);
  --color-warning: oklch(79.5% 0.106 92);
  --color-warning-content: oklch(79.5% 0.106 92);
  --color-error: oklch(77.2% 0.126 21);
  --color-error-content: oklch(77.2% 0.126 21);
  --radius-selector: 0.3rem;
  --radius-field: 0.4rem;
  --radius-box: 1rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 1;
  --tw-prose-body: var(--color-textStrong) !important;
}

.menu-title {
  @apply font-normal;
}

:root,
[data-theme] {
  --backgroundPrimary: rgb(255 255 255);
  --rounded-btn: 0.5rem;

  --tw-prose-body: var(--color-textStrong) !important;
}

html,
body, :host {
  line-height: 1;
  @apply overscroll-none bg-bgBase;
  --brand-color: var(--color-fillBrand-strong);
  --brand-color-light: var(--color-fillBrand-strong);
  --tags-border-color: var(--color-strokeStrong);
  --tags-hover-border-color: var(--color-strokeStrong);
  --chkbg: var(--brand-color);
  --root-bg: var(--color-bgBase);
}

@layer custom {
  /* Badge component - solid filled badges */
  .badge {
    @apply px-2 py-0.5 /* @apply inline-flex items-center justify-center rounded-md border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 text-textInverse-strong shadow-sm; */
  }
  /* Badge component - outline badges */
  .badge-outline {
    @apply inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1;
  }
  .badge-ghost {
    @apply inline-flex items-center justify-center rounded-md  px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 gap-1 text-textWeak;
  }
  .tab-not-active {
    --tab-color: var(--fallback-bc, oklch(var(--bc) / 0.5));
    --tab-bg: transparent;
    --tab-border-color: transparent;
    border-color: var(--tab-border-color);
    background-color: var(--tab-bg);
    color: var(--tab-color);
    padding-left: var(--tab-padding, 1rem);
    padding-right: var(--tab-padding, 1rem);
  }

  .tooltip:before,
  .tooltip:after {
    --tt-bg: var(--color-fillStrong);
    color: var(--color-textInverse-strong);
  }

  .dropdown-content {
    background-color: var(--color-bgOverlay);
    transform-origin: top center;
    @apply border;
  }
  .modal-box {
    background-color: var(--color-bgOverlay);
  }

  /* Frosted glass backdrop for modals */
  .modal-backdrop {
    /*background-color: rgba(0 0 0 / 0.5);*/
    backdrop-filter: blur(3px);
    -webkit-backdrop-filter: blur(3px);
  }

  /* Fix dark mode modal backdrop */
  [data-theme="dark"] {
    --page-scroll-bg: color-mix(in srgb, oklch(14% 0.025 263), oklch(0% 0 0) 40%);
    --root-bg: oklch(14% 0.025 263);
  }

  .dropdown summary {
    list-style: none;
  }

  .dropdown summary::-webkit-details-marker {
    display: none;
  }
  .alert {
    --color-success: rgba(10 204 146 / 0.15);
    --color-error: rgba(255 74 74 / 0.15);
    --color-warning: rgba(255 192 46 / 0.15);
    --color-info: rgba(38 176 255 / 0.15);
  }
  [data-theme="dark"] .alert {
    --color-success: rgba(119 199 175 / 0.2);
    --color-error: rgba(255 156 156 / 0.2);
    --color-warning: rgba(224 190 112 / 0.2);
    --color-info: rgba(126 192 229 / 0.2);
  }


  /* Skeleton loader styles */
  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      var(--color-fillWeak) 0%,
      var(--color-fillWeak) 40%,
      var(--skeleton-highlight, rgba(26, 116, 168, 0.1)) 50%,
      var(--color-fillWeak) 60%,
      var(--color-fillWeak) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s ease-in-out infinite;
  }
  
  [data-theme="dark"] .skeleton-shimmer {
    --skeleton-highlight: rgba(26, 116, 168, 0.2);
  }

  .skeleton-wave {
    animation-delay: calc(var(--row-index) * 0.1s);
  }

  .skeleton-glow {
    box-shadow: 0 0 10px rgba(26, 116, 168, 0.1);
  }

  /* Table skeleton - CSS grid with single shimmer overlay (no per-cell DOM) */
  .skeleton-table {
    --skeleton-rows: 5;
    --skeleton-cols: 4;
    display: grid;
    grid-template-rows: repeat(var(--skeleton-rows), 2.5rem);
    grid-template-columns: repeat(var(--skeleton-cols), 1fr);
    gap: 0.5rem;
    padding: 0.5rem;
    position: relative;
    overflow: hidden;
  }
  .skeleton-table::before {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2rem,
      var(--color-fillWeak) 2rem,
      var(--color-fillWeak) 2.5rem
    );
    background-size: 100% calc(2.5rem + 0.5rem);
  }
  .skeleton-table::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      transparent 40%,
      var(--skeleton-highlight, rgba(26, 116, 168, 0.15)) 50%,
      transparent 60%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s ease-in-out infinite;
  }

  /* Dashboard grid loading states */
  .grid-stack:not(.grid-stack-initialized) { visibility: hidden; }
  .dashboard-skeleton { transition: opacity 0.2s; }
  .dashboard-loaded .dashboard-skeleton { opacity: 0; pointer-events: none; }

  /* Widget drawer sticky header - shadow only, no size change to avoid jitter */
  .widget-drawer-sticky {
    transition: box-shadow 150ms ease-out, padding 150ms ease-out;
  }
  .widget-drawer-stuck.widget-drawer-sticky {
    box-shadow: 0 2px 8px -2px rgba(0, 0, 0, 0.08);
    padding-top: 1rem;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-strokeWeak, currentColor);
  }

  /* Hairline borders for retina displays */
  :root {
    --border-hairline: 1px;
  }
  @media only screen and (min-device-pixel-ratio: 2),
         only screen and (min-resolution: 192dpi) {
    :root {
      --border-hairline: 0.5px;
    }
  }

  /* Font smoothing for sharper text */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Balanced text wrapping for headings */
  h1, h2, h3 {
    text-wrap: balance;
  }

  /* Prevent iOS zoom on input focus (must be 16px+) */
  input, textarea, select {
    font-size: max(16px, 1rem);
  }

  /* Touch device optimizations */
  button, a, input, [role="button"] {
    touch-action: manipulation;
  }

  /* Prevent sticky hover states on touch devices */
  @media (hover: none) and (pointer: coarse) {
    /* Reset background hover effects */
    .hover\:bg-fillWeak:hover,
    .hover\:bg-fillHover:hover,
    .hover\:bg-fillBrand-weak:hover,
    .hover\:bg-fillWeaker:hover {
      background-color: inherit;
    }
    /* Reset text hover effects */
    .hover\:text-textStrong:hover,
    .hover\:text-textBrand:hover {
      color: inherit;
    }
    /* Reset opacity hover effects */
    .hover\:opacity-90:hover {
      opacity: inherit;
    }
    /* Reset underline hover effects */
    .hover\:underline:hover {
      text-decoration: inherit;
    }
  }

  /* Scroll margin for anchor links - accounts for fixed navbar */
  [id] {
    scroll-margin-top: 80px;
  }

  /* Enhanced focus states for better keyboard navigation visibility */
  :focus-visible:not(.no-focus-ring) {
    outline: 2px solid var(--color-strokeFocus);
    outline-offset: 2px;
  }
  .no-focus-ring:focus-visible {
    outline: none !important;
  }

  /* High contrast focus for forced colors mode (Windows high contrast) */
  @media (forced-colors: active) {
    :focus-visible:not(.no-focus-ring) {
      outline: 3px solid CanvasText;
    }
  }
}

@utility tabs-outline {
  & :is(.tab-active, [aria-selected='true']):not(.tab-disabled):not([disabled]),
  :is(input:checked),
  :is(label:has(:checked)) {
    @apply border border-strokeStrong shadow-sm text-textStrong;
  }

  & :is(.tab-active, [aria-selected='true']):not(.tab-disabled):not([disabled]):hover {
    @apply border border-strokeStrong shadow-sm text-textStrong;
  }
  .tabs-outline .tab {
    @apply !text-textStrong;
  }
}

/* @utility tab-active { */
/*   .tabs-outline :is(&, [aria-selected='true']):not(.tab-disabled):not([disabled]) { */
/*     @apply bg-bgBase shadow-sm border border-strokeStrong text-textStrong; */
/*   } */
/**/
/*   .tabs-outline :is(&, [aria-selected='true']):not(.tab-disabled):not([disabled]):hover { */
/*     @apply bg-bgBase shadow-sm border border-strokeStrong text-textStrong; */
/*   } */
/**/
/*   /* */
/*   .tabs-outline .tab { */
/*     @apply !text-slate-800 font-medium; */
/*   }*/
/* } */

@utility tabs-boxed {
  & :is(input:checked) {
    @apply bg-bgBase;
  }

  .tabs-outline .tab {
    @apply !text-textStrong;
  }
}

@utility tabs-box {
  height: fit-content;
  min-height: auto;
}

@utility tab {
  --tab-bg: var(--color-bgOverlay);
  @apply h-auto! leading-none;
  padding-block: calc(var(--spacing) * 1.5);

  /*
  .tabs-outline .tab {
    @apply !text-slate-800 font-medium;
  }*/
}
@utility inconsolata {
  font-family: 'JetBrains Mono', monospace;
}
@utility monospace {
  font-family: 'JetBrains Mono', monospace;
}
/* For code blocks and pre-formatted text */
code, pre, .code, .monospace {
  font-family: 'JetBrains Mono', monospace;
}
@utility icon {
  /* From icomoon app*/
  display: inline-block;
  width: 1em;
  height: 1em;
  stroke: currentColor;
  fill: currentColor;
}
@utility dataTable-search {
  /* .checkbox, .input, .btn, .select, .textarea { */
  /*   @apply shadow; */
  /* } */
  @apply rounded-sm;
}
@utility btn-indigo {
  @apply ml-3 text-textInverse-strong bg-fillBrand-strong hover:bg-fillBrand-strong focus:ring-strokeFocus;
}
@utility btn-yellow {
  @apply btn-sm ml-3 text-textStrong bg-fillYellow hover:bg-fillYellow focus:ring-strokeWarning-strong;
}
@utility btn-white-sm {
  @apply btn-sm bg-base-100 border-strokeWeak text-textWeak hover:bg-fillHover focus:ring-strokeFocus;
}
@utility input-txt {
  @apply shadow-xs focus:ring-strokeFocus focus:border-strokeFocus block w-full sm:text-sm border-strokeWeak rounded-md;
}
@utility neg-rotate-90 {
  /* Added because using - in class name prefix via hyperscript doesnt work*/
  @apply -rotate-90;
}
@utility parent-hover {
  & .child-hover {
    visibility: hidden;
  }

  &:hover .child-hover {
    visibility: visible;
  }
}
@utility child-hover {
  .parent-hover & {
    visibility: hidden;
  }

  .parent-hover:hover & {
    visibility: visible;
  }
}

@utility blue-gr-btn {
  @apply bg-linear-to-b text-textInverse-strong font-medium from-fillBrand-strong to-fillBrand-strong;
}

@utility blue-outline-btn {
  @apply border-strokeBrand-strong text-textBrand font-medium;
}

.cbadge {
  @apply px-2 py-1.5 text-sm rounded-lg text-center;
}

.cbadge-sm {
  --tw-leading: 1;
  @apply px-1.5 py-1 text-xs rounded-lg text-center monospace;
}

@utility badge-2xx {
  @apply bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300;
}

@utility badge-success {
  @apply bg-fillSuccess-weak text-textSuccess font-medium;
}

@utility badge-error {
  @apply bg-fillError-weak text-textError font-medium;
}

@utility badge-3xx {
  @apply bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300;
}

@utility badge-4xx {
  @apply bg-red-50 text-red-800 dark:bg-red-900/20 dark:text-red-300;
}

@utility badge-blue {
  @apply text-[var(--brand-color)] bg-fillBrand-weak;
}

@utility badge-green {
  @apply text-textSuccess bg-fillSuccess-weak;
}

@utility badge-lime {
  @apply bg-fillSuccess-weak text-textSuccess;
}

@utility badge-pink {
  @apply bg-fillBrand-weak text-textBrand;
}

@utility badge-cyan {
  @apply bg-fillInformation-weak text-textInformation;
}

@utility badge-5xx {
  @apply bg-red-200 text-red-900 font-medium dark:bg-red-900/30 dark:text-red-200;
}

@utility badge-neutral {
  @apply !bg-fillWeaker !text-textStrong;
}

@utility badge-info {
  @apply bg-fillInformation-weak text-textInformation;
}

@utility badge-warning {
  @apply bg-fillWarning-weak text-textWarning;
}

@utility badge-fatal {
  @apply bg-fillError-strong text-textInverse-strong font-bold;
}

@utility badge-GET {
  @apply bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300;
}

@utility badge-POST {
  @apply bg-pink-100 text-pink-700 dark:bg-pink-900/20 dark:text-pink-300;
}

@utility badge-PUT {
  @apply bg-lime-100 text-lime-700 dark:bg-lime-900/20 dark:text-lime-300;
}

@utility badge-DELETE {
  @apply bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-300;
}

@utility badge-PATCH {
  @apply bg-cyan-100 text-cyan-700 dark:bg-cyan-900/20 dark:text-cyan-300;
}


.rr-player {
  position: relative;
  background: black;
  float: left;
  border-radius: 5px;
  box-shadow: none;
}

.rr-player__frame {
  overflow: hidden;
}

.player-frame{
  overflow: hidden;
}

.replayer-wrapper {
  float: left;
  clear: both;
  transform-origin: top left;
  left: 50%;
  top: 50%;
  background-color: white;
}

.replayer-wrapper > iframe {
  border: none;
}
.event-container.expanded {
  @apply border border-strokeBrand-strong
}
.event-container.expanded  button > svg {
  @apply rotate-180
}
.event-container.expanded > .event-detail {
  display: flex;
}


/* Database-specific badges - consolidated with CSS custom properties */
.badge-postgres, .badge-mysql, .badge-redis, .badge-mongo, .badge-mongodb,
.badge-elastic, .badge-elasticsearch, .badge-cassandra, .badge-dynamodb,
.badge-memcached, .badge-sqlite, .badge-clickhouse {
  @apply bg-fillWeak text-textStrong border;
  border-color: var(--db-color, var(--color-strokeStrong));
}
.badge-postgres, .badge-dynamodb, .badge-memcached { --db-color: var(--color-strokeBrand-strong); }
.badge-mysql, .badge-elastic, .badge-elasticsearch, .badge-clickhouse { --db-color: var(--color-strokeWarning-strong); }
.badge-redis { --db-color: var(--color-strokeError-strong); }
.badge-mongo, .badge-mongodb { --db-color: var(--color-strokeSuccess-strong); }
.badge-cassandra { --db-color: var(--color-strokeInformation-strong); }
.badge-sqlite { --db-color: var(--color-strokeStrong); }

.tagify {}

@utility ctable {
  & :where(.table-pin-rows thead tr) {
    @apply sticky top-0 z-10 bg-bgBase;
  }

  & :where(.table-pin-cols tr th) {
    @apply sticky left-0 right-0 z-10;
  }

  & td > div {
    @apply py-1;
  }

  & .log-row.htmx-added,
  & .log-row.htmx-settling {
    @apply bg-fillBrand-weak transition-colors duration-300 ease-in-out;
  }
}

@utility table-pin-rows {
  .ctable :where(& thead tr) {
    @apply sticky top-0 z-10 bg-bgBase;
  }
}

@utility table-pin-cols {
  .ctable :where(& tr th) {
    @apply sticky left-0 right-0 z-10;
  }
}

@layer custom {
  .surface-raised {
    @apply bg-fillWeaker border border-strokeWeak rounded-xl;
    background: linear-gradient(135deg,
      oklch(from var(--color-fillWeaker) calc(l + 0.008) c h) 0%,
      var(--color-fillWeaker) 50%,
      oklch(from var(--color-fillWeaker) calc(l - 0.004) c h) 100%
    );
    box-shadow:
      inset 0 1px 0 0 oklch(from var(--color-fillWeaker) calc(l + 0.04) c h),
      inset 0 -1px 0 0 oklch(from var(--color-fillWeaker) calc(l - 0.02) c h),
      0 2px 8px -2px rgba(0 0 0 / 0.08),
      0 4px 12px -4px rgba(0 0 0 / 0.04);
    transition: transform 150ms ease-out, box-shadow 150ms ease-out;
  }

  /* Subtle hover lift for cards - only on hover-capable devices */
  @media (hover: hover) and (pointer: fine) {
    .surface-raised:hover {
      transform: translateY(-1px);
      box-shadow:
        inset 0 1px 0 0 oklch(from var(--color-fillWeaker) calc(l + 0.04) c h),
        inset 0 -1px 0 0 oklch(from var(--color-fillWeaker) calc(l - 0.02) c h),
        0 4px 12px -2px rgba(0 0 0 / 0.12),
        0 8px 20px -4px rgba(0 0 0 / 0.08);
    }
  }

  [data-theme="dark"] .surface-raised {
    background: linear-gradient(135deg,
      oklch(from var(--color-fillWeaker) calc(l + 0.012) c h) 0%,
      var(--color-fillWeaker) 50%,
      oklch(from var(--color-fillWeaker) calc(l - 0.006) c h) 100%
    );
    box-shadow:
      inset 0 1px 0 0 rgba(255 255 255 / 0.08),
      inset 0 -1px 0 0 rgba(0 0 0 / 0.4),
      0 2px 8px -2px rgba(0 0 0 / 0.4),
      0 4px 12px -4px rgba(0 0 0 / 0.3);
  }

  :root {
    --fallback-b2: var(--color-fillWeak); /* bg-fillWeak*/
    --tab-color: var(--color-textWeak); /* tab text color textWeak */
    --fallback-pc: var(--color-textStrong); /*bg-textStrong */
    --fallback-bc: var(--color-strokeStrong); /*border color strokeStrong*/
  }
}

@layer custom {
  .no-dividers :is(tr, th, td) { border-style: none; }
}

@layer custom {
  .log_details_expanded {
    width: 850px;
  }

  .c-scroll::-webkit-scrollbar {
    width: 5px;
    height: 5px;
  }

  /* Track */
  .c-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  /* Handle */
  .c-scroll::-webkit-scrollbar-thumb {
    @apply bg-strokeWeak opacity-70;
    border-radius: 3px;
  }

  .c-scroll::-webkit-scrollbar-thumb:hover {
    @apply bg-strokeStrong;
  }

  .payment-radio-active {
    @apply bg-fillBrand-strong;
  }

  .payment-radio-active > div {
    display: block;
  }

  .endpoint-path-collapse > .subpaths-container {
    display: none;
  }

  .endpoint-path-collapse .collpase-icon {
    transform: rotate(180deg);
  }

  .endpoint_schema {
    @apply text-textWeak;
  }

  .subpaths-container {
    cursor: pointer;
    @apply flex flex-col pb-4;
  }

  .subpaths-container > div {
    @apply px-4 py-2;
  }

  .subpaths-container > div:hover {
    @apply bg-fillHover;
  }

  .font_toggle_active {
    @apply bg-fillBrand-weak;
  }

  .path-method-get {
    @apply text-textBrand;
  }

  .endpoint_active {
    border-left: 5px solid currentColor;
  }

  .path-method-put {
    @apply text-textWarning;
  }

  .path-method-post {
    @apply text-textSuccess;
  }

  .path-method-delete {
    @apply text-textError;
  }

  .path-method-patch {
    @apply text-textBrand;
  }

  .path-method-options {
    @apply text-textWeak;
  }

  .path-method-head {
    @apply text-textBrand;
  }

  .subpaths-header {
    display: flex;
    cursor: pointer;
    @apply hover:bg-fillHover py-3 px-2 w-full items-center justify-between;
  }

  .htmx-indicator {
    display: none;
  }

  .htmx-request.htmx-indicator {
    display: flex;
  }

  .btn-secondary {
    @apply text-textBrand border border-strokeBrand-strong rounded-lg font-semibold;
  }

  .htmx-request.survey-indicator + button {
    display: none;
  }
  .htmx-request.htmx-indicator ~ span {
    display: none;
  }

  .htmx-request.query-indicator {
    display: flex;
  }

  .htmx-request.refresh-indicator ~ svg {
    display: none;
  }

  .htmx-request.htmx-indicator {
    display: flex;
  }

  .htmx-request.htmx-indicator ~ span {
    display: none;
  }

  .htmx-request.steps-indicator > .empty-state {
    display: none;
  }

  .htmx-request.steps-indicator > .loading-indicator {
    display: block;
  }

  
  /* Dark mode overrides */
  [data-theme="dark"] {
    /* Background colors - Dark theme */
    --color-bgAlternate: oklch(18% 0.025 263);
    --color-bgBase: oklch(14% 0.025 263);
    --color-bgInverse: rgb(255 255 255);
    --color-bgOverlay: oklch(24% 0.025 263);
    --color-bgRaised: oklch(20% 0.022 263);
    --color-bgSunken: rgb(0 0 0);
    --color-bgBrand: rgb(59 130 246);

    /* Fill colors - Dark theme */
    --color-fillBrand-strong: rgb(59 130 246);
    --color-fillBrand-weak: rgba(59 130 246 / 0.15);
    --color-fillDisabled: rgba(255 255 255 / 0.12);
    --color-fillStrong: rgb(255 255 255);
    --color-fillError-strong: oklch(77.2% 0.126 21);
    --color-fillError-weak: rgba(255 156 156 / 0.08);
    --color-fillHover: rgba(255 255 255 / 0.08);
    --color-fillInformation-strong: oklch(75.5% 0.098 241);
    --color-fillInformation-weak: rgba(126 192 229 / 0.08);
    --color-fillInverseDisabled: rgba(0 17 102 / 0.1);
    --color-fillInverse-hover: rgba(0 21 128 / 0.04);
    --color-fillInverse-press: rgba(0 17 102 / 0.1);
    --color-fillInverse-strong: oklch(14% 0.025 263);
    --color-fillInverse-weak: rgba(0 21 128 / 0.04);
    --color-fillOverlay: rgba(0 6 38 / 0.9);
    --color-fillPress: rgba(255 255 255 / 0.12);
    --color-fillSelected: rgb(59 130 246);
    --color-fillSuccess-strong: oklch(75.3% 0.092 162);
    --color-fillSuccess-weak: rgba(119 199 175 / 0.08);
    --color-fillWarning-strong: oklch(79.5% 0.106 92);
    --color-fillWarning-weak: rgba(224 190 112 / 0.08);
    --color-fillWeak: rgba(255 255 255 / 0.06);
    --color-fillWeaker: rgba(255 255 255 / 0.03);
    --color-fillWhite: rgb(255 255 255);
    --color-fillYellow: oklch(85.8% 0.179 92);

    /* Icon colors - Dark theme */
    --color-iconBrand: rgba(96 165 250 / 0.9);
    --color-iconDisabled: rgba(255 255 255 / 0.12);
    --color-iconError: rgba(255 156 156 / 0.8);
    --color-iconInformation: rgba(126 192 229 / 0.8);
    --color-iconInverse: rgba(0 13 77 / 0.45);
    --color-iconInverseDisabled: rgba(0 17 102 / 0.1);
    --color-iconInverse-strong: rgba(0 6 38 / 0.9);
    --color-iconNeutral: rgba(255 255 255 / 0.6);
    --color-iconSuccess: rgba(119 199 175 / 0.8);
    --color-iconWarning: rgba(224 190 112 / 0.8);

    /* Stroke colors - Dark theme */
    --color-strokeBrand-strong: rgba(96 165 250 / 0.5);
    --color-strokeBrand-weak: rgba(96 165 250 / 0.15);
    --color-strokeDisabled: rgba(255 255 255 / 0.12);
    --color-strokeError-strong: rgba(248 113 113 / 0.5);
    --color-strokeError-weak: rgba(248 113 113 / 0.15);
    --color-strokeFocus: rgb(96 165 250);
    --color-strokeInformation-strong: rgba(147 197 253 / 0.5);
    --color-strokeInformation-weak: rgba(147 197 253 / 0.15);
    --color-strokeInverseDisabled: rgba(0 17 102 / 0.1);
    --color-strokeInverse-strong: rgba(0 13 77 / 0.45);
    --color-strokeInverse-weak: rgba(0 17 102 / 0.1);
    --color-strokeSelected: rgb(59 130 246);
    --color-strokeStrong: rgba(255 255 255 / 0.3);
    --color-strokeSuccess-strong: rgba(134 239 172 / 0.5);
    --color-strokeSuccess-weak: rgba(134 239 172 / 0.15);
    --color-strokeWarning-strong: rgba(251 191 36 / 0.5);
    --color-strokeWarning-weak: rgba(251 191 36 / 0.15);
    --color-strokeWeak: rgba(255 255 255 / 0.08);

    /* Text colors - Dark theme */
    --color-textBrand: oklch(75% 0.14 241);
    --color-textDisabled: rgba(255 255 255 / 0.35);
    --color-textError: oklch(77.2% 0.126 21);
    --color-textInformation: oklch(78% 0.095 241);
    --color-textInverseDisabled: rgba(0 17 102 / 0.1);
    --color-textInverse-strong: rgba(0 6 38 / 0.9);
    --color-textInverse-weak: rgba(0 8 51 / 0.65);
    --color-textStrong: oklch(85% 0.010 263);
    --color-textSuccess: oklch(78% 0.088 162);
    --color-textWarning: oklch(79.5% 0.106 92);
    --color-textWeak: oklch(78% 0.010 263);

    /* Update fallback colors for dark mode */
    --fallback-b2: rgba(255 255 255 / 0.06);
    --tab-color: oklch(78% 0.010 263);
    --fallback-pc: oklch(95% 0.010 263);
    --fallback-bc: rgba(255 255 255 / 0.6);
  }
  .btn-primary {
    @apply bg-fillBrand-strong hover:bg-fillBrand-strong text-white;
  }
  
  [data-theme="dark"] .btn-primary {
    @apply hover:opacity-90  ring-strokeBrand-weak;
  }
  .input, .select, .checkbox, .textarea {
    @apply shadow-none;
    --chkbg: var(--brand-color);
  }
}
@layer components {
  :root {
    font-family: 'Inter', sans-serif;
    font-feature-settings: 'liga' 1, 'calt' 1;
    font-size: 16px;
  }
}

@layer custom {
  /* HERE SINCE IT"S BASICALLY AN OVERRIDE.  Its for the log items rows */
  .expanded-log {
    @apply border-l-strokeBrand-weak bg-fillBrand-weak;
  }

  .expanded-log .status-indicator {
    @apply bg-fillBrand-weak;
  }

  .expanded-log .log-chevron {
    @apply rotate-90;
  }

  .log-item-tree-chevron {
    @apply cursor-pointer font-bold h-5 w-5 rotate-90 inline-block p-1 rounded-sm border border-strokeWeak mr-1;
  }

  .collapsed .log-item-tree-chevron {
    @apply rotate-0;
  }

  .collapsed .waterfall-item-tree-chevron {
    @apply rotate-90;
  }

  .b--b2 {
    border-color: oklch(var(--b2));
  }

  .b--b2 > :not([hidden]) ~ :not([hidden]) {
    border-color: oklch(var(--b2));
  }

  /*
== THIS SECTION IS FOR CSS CLASSES THAT ARE ADDED DYNAMICALLY,
   SINCE TREE SHAKING IS NOT ENABLED TO CLASSES DEFINED OUTSIDE THE TAILWIND @layers
*/
  .endpoint {
    @apply w-20 rounded-lg text-center text-textInverse-strong text-sm p-2 m-2 inline-block;
  }

  .endpoint-options {
    @apply bg-fillStrong;
  }

  .endpoint-get {
    @apply bg-fillSuccess-strong;
  }

  .endpoint-head {
    @apply bg-fillWarning-strong;
  }

  .endpoint-post {
    @apply bg-fillBrand-strong;
  }

  .endpoint-put {
    @apply bg-fillWarning-strong;
  }

  .endpoint-delete {
    @apply bg-fillError-strong;
  }

  .endpoint-trace {
    @apply bg-fillBrand-strong;
  }

  .endpoint-patch {
    @apply bg-fillWarning-strong;
  }

  .btn {
    @apply justify-center items-center leading-none;
  }

  /* ======= CODEMIRROR */
  .tree-children {
    display: block;
  }

  .tree-children-count {
    display: none;
  }

  .collapsed .tree-children {
    display: none !important;
  }

  .expand-button {
    display: none;
  }


  .collapsed .tree-children-count {
    display: inline !important;
  }

  .collapsed .children {
    display: inline-block;
    padding-left: 0;
  }

  .collapsed .closing-token {
    padding-left: 0;
  }

  .sdk_tab {
    @apply h-36 border border-strokeWeak rounded-sm w-full p-4;
  }

  .sdk_tab_active {
    @apply border-strokeBrand-strong border ring-3 ring-strokeBrand-strong shadow-lg;
  }

  .t-tab-active {
    @apply font-bold border-strokeBrand-strong text-textBrand;
  }

  .t-tab-box-active {
    @apply shadow-[0px_4px_8px_-2px_rgba(0,0,0,0.04)]  text-textStrong border border-strokeStrong bg-bgOverlay;
  }

  .tab:is(input[type='radio']) {
    width: max-content;
  }

  .tree_opened ~ .children_container {
    display: flex;
  }

  .tree_opened .toggler {
    transform: rotate(180deg);
  }
}

/****** Tagify *****/

/* Dropdown styling */
.tagify__dropdown {
  --tagify-dd-color-primary: var(--color-fillWeak);
  --tagify-dd-bg-color: var(--color-bgRaised);
  --tagify-dd-text-color: var(--color-text);
  background: var(--color-bgRaised);
  border: 1px solid var(--color-strokeWeak);
  border-radius: 0.75rem;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
  margin-top: 4px;
  max-width: 100% !important;
}

.tagify__dropdown__item {
  color: var(--color-text) !important;
  border-radius: 0.5rem;
  margin: 2px 4px;
}

.tagify__dropdown .tagify__dropdown__item:hover,
.tagify__dropdown .tagify__dropdown__item--active,
.tagify__dropdown__item--active {
  background: var(--color-fillWeak) !important;
  color: var(--color-textStrong) !important;
}

/* Dark mode overrides */
[data-theme="dark"] .tagify__dropdown {
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

/* Dark mode tag colors */
[data-theme="dark"] .tagify {
  --tag-bg: var(--color-fillWeak);
  --tag-text-color: var(--color-textStrong);
  --tag-hover: var(--color-fillStrong);
  --placeholder-color: var(--color-textWeak);
  --input-color: var(--color-text);
}

/* Modal specific */
.modal > tags {
  @apply border-strokeWeak;
}

/* Dashboard variable selectors */
.dash-variable .tagify {
  --tags-border-color: transparent;
  --tag-text-color: var(--color-textStrong);
  padding: 0;
}

.dash-variable legend {
  line-height: 1;
  margin-bottom: -0.25em;
}

.dash-variable .tagify--select {
  cursor: pointer;
}


.dash-variable .tagify__tag {
  min-width: 100%;
  margin-inline-end: 0.5em;
  padding-right: 1em;
}

.tagify__dropdown {
  max-width: 100% !important;
}

.dash-variable .tagify__tag-text {
  text-wrap-mode: nowrap !important;
}

/* Group widget collapsed state - header fills space and centers content */
.grid-stack-item.collapsed .group-header {
  flex: 1;
}

/* Group widget collapsed state - rotate chevron */
.grid-stack-item.collapsed .collapse-toggle svg {
  transform: rotate(180deg);
}

.grid-stack-handle, .nested-grid-stack-handle {
  @apply cursor-move;
}

/* Nested grid collapse/expand transitions */
.nested-grid {
  transition: opacity 0.2s ease-out, max-height 0.3s ease-out;
  overflow: hidden;
}

.collapsed .nested-grid {
  opacity: 0;
  max-height: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

.collapse-toggle svg {
  transition: transform 0.2s ease-out;
}

/* Gridstack custom resize icon - restore APItoolkit custom styling
   (overrides the default gridstack arrow icon with a dotted grid pattern) */
.grid-stack-placeholder > .placeholder-content {
  background-color: rgba(0, 104, 255, 0.05);
  border-radius: 1rem;
  border: 2px dashed rgba(0, 104, 255, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.grid-stack-placeholder > .placeholder-content::after {
  content: 'drop here';
  color: rgba(0, 104, 255, 0.7);
  font-size: 1rem;
  pointer-events: none;
}

/* Custom resize handle icon - dotted grid pattern */
.grid-stack-item > .ui-resizable-se {
  background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 10H8V8H10V10ZM10 6H8V4H10V6ZM6 10H4V8H6V10ZM6 6H4V4H6V6ZM2 10H0V8H2V10ZM10 2H8V0H10V2Z" fill="%2394A3B8"/></svg>');
  width: 14px;
  height: 14px;
  margin-right: 8px;
  margin-bottom: 8px;
  transform: none;
}

.tagify--select::after {
  content: 'â€º' !important;
  color: var(--color-strokeStrong);
}
/* 
.animated-fadeBG {
  animation: bgColorChange 5s infinite alternate;
}

@keyframes bgColorChange {
  0% {
    background-color: 
  }
  50% {
    background-color: rgb(250 208 196);
  }
  100% {
    background-color: rgb(251 194 235);
  }
} */

@keyframes rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.spotlight-border {
  position: relative;
  z-index: 0;
  overflow: hidden;
}

.spotlight-border::before {
  content: '';
  position: absolute;
  z-index: -2;
  inset: -50%;
  width: 200%;
  height: 200%;
  background-image: conic-gradient(
    rgb(255 204 0),
    rgb(51 204 51),
    rgb(51 153 255),
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent,
    transparent
  );
  animation: rotate 4s linear infinite;
}

.spotlight-border::after {
  content: '';
  position: absolute;
  z-index: -1;
  inset: 1px;
  background: var(--color-bgRaised);
  border-radius: inherit;
}


.gradient-border {
  border-image: linear-gradient(45deg, rgb(255 204 0), rgb(51 204 51), rgb(51 153 255)) 1;
}



/* .blue-gradient-box::before, .blue-gradient-box::after { */
/*   content: ""; */
/*   position: absolute; */
/*   height: inherit; */
/*   width: inherit; */
/*   background: conic-gradient( */
/*     from 0deg at center, */
/*     #00c3ff, */
/*     #4d0199, */
/*     #6300c6, */
/*     #00c3ff */
/*     ); */
/*   border-radius: inherit; */
/*   z-index:-1; */
/*   padding:2px; */
/* } */
/**/
/* .blue-gradient-box::after { */
/*   z-index: 1; */
/*   filter: blur(10px); */
/* } */
/**/
/* @property --deg { */
/**/
/* } */


/* Monaco Editor optimizations - prevent re-rendering styles on every keystroke */
.monaco-editor .suggest-widget {
  display: none !important;
  visibility: hidden !important;
}

.monaco-editor {
  border-radius: 0;
  outline: none !important;
  border: none !important;
}

.monaco-editor .overflow-guard {
  border: none !important;
  outline: none !important;
}

#editor-container {
  max-width: 100%;
  overflow: hidden;
}

/* Hover tooltip base pattern - consolidated styles for link-preview, table links, truncate-reveal */
.link-preview,
table td a[href]:not(.btn):not([data-no-preview]),
.truncate-reveal {
  position: relative;
  --tooltip-z: 50;
  --tooltip-max-width: 300px;
  --tooltip-padding: 0.25rem 0.5rem;
  --tooltip-font-size: 0.75rem;
  --tooltip-font: 'JetBrains Mono', monospace;
  --tooltip-color: var(--color-textWeak);
  --tooltip-bg: var(--color-bgOverlay);
  --tooltip-delay: 300ms;
  --tooltip-offset: -2px;
}

.link-preview::after,
table td a[href]:not(.btn):not([data-no-preview])::after,
.truncate-reveal::before {
  position: absolute;
  left: 0;
  top: calc(100% + 4px);
  z-index: var(--tooltip-z);
  max-width: var(--tooltip-max-width);
  padding: var(--tooltip-padding);
  font-size: var(--tooltip-font-size);
  font-family: var(--tooltip-font);
  color: var(--tooltip-color);
  background: var(--tooltip-bg);
  border: 1px solid var(--color-strokeWeak);
  border-radius: 0.25rem;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(var(--tooltip-offset));
  transition: opacity 120ms ease-out, transform 120ms ease-out, visibility 0ms 120ms;
}

/* Set content for each type */
.link-preview::after { content: attr(href); }
table td a[href]:not(.btn):not([data-no-preview])::after { content: attr(href); }
.truncate-reveal::before { content: attr(data-full-text); }

/* Type-specific overrides */
.link-preview { --tooltip-delay: 400ms; --tooltip-offset: -4px; }
table td a[href]:not(.btn):not([data-no-preview]) { --tooltip-z: 100; --tooltip-max-width: 280px; --tooltip-font-size: 0.65rem; --tooltip-bg: var(--color-bgRaised); }
.truncate-reveal { --tooltip-max-width: 400px; --tooltip-font: inherit; --tooltip-padding: 0.375rem 0.625rem; --tooltip-color: var(--color-textStrong); --tooltip-bg: var(--color-bgRaised); }
.truncate-reveal::before { white-space: normal; word-break: break-word; border-radius: 0.375rem; }

@media (hover: hover) and (pointer: fine) {
  .link-preview:hover::after,
  table td a[href]:not(.btn):not([data-no-preview]):hover::after,
  .truncate-reveal:hover::before {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
    transition: opacity 120ms ease-out var(--tooltip-delay), transform 120ms ease-out var(--tooltip-delay), visibility 0ms var(--tooltip-delay);
  }
}

@media (prefers-reduced-motion: reduce) {
  .link-preview::after,
  table td a[href]::after,
  .truncate-reveal::before {
    transition: opacity 80ms;
    transform: none;
  }
}
