@import 'tailwindcss';
@source "./public/*.{html,js,hs}";

@layer base, utilities, custom;

@config '../../../../tailwind.config.js';
@plugin "@tailwindcss/typography";
@plugin "daisyui" {
  themes:
    light --default,
    dark --prefersdark,
    cupcake;
}

/* ==========================================================================
   FONT DEFINITIONS
   ========================================================================== */

@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("/public/assets/fonts/JetBrainsMono[wght].ttf") format("truetype");
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("/public/assets/fonts/InterVariable.ttf") format("truetype");
}

@font-face {
  font-family: 'Inter';
  font-style: italic;
  font-weight: 100 900;
  font-display: swap;
  src: url("/public/assets/fonts/InterVariable-Italic.ttf") format("truetype");
}

@font-feature-settings {
  'ss01': 1, 'ss02': 1, 'cv01': 1, 'cv02': 1;
}

/* ==========================================================================
   THEME COLORS & VARIABLES
   ========================================================================== */

@theme {
  /* Basic colors */
  --color-gray-25: #fcfcfd;
  --color-gray-150: #ecedf0;
  --color-slate-25: #fbfcfd;
  --color-slate-150: #e9eef4;
  --color-slate-250: #d6dee8;

  /* Background colors */
  --color-bgAlternate: #f5f6fa;
  --color-bgBase: #fbfcfd;
  --color-bgInverse: #12131a;
  --color-bgOverlay: #fbfcfd;
  --color-bgRaised: #fbfcfd;
  --color-bgSunken: #f5f6fa;

  /* Fill colors - Brand */
  --color-fillBrand-strong: #0068ff;
  --color-fillBrand-weak: #0068ff0d;
  
  /* Fill colors - Status */
  --color-fillError-strong: #c73a3a;
  --color-fillError-weak: #ff4a4a0d;
  --color-fillSuccess-strong: #067a57;
  --color-fillSuccess-weak: #0acc920d;
  --color-fillWarning-strong: #8f6c1a;
  --color-fillWarning-weak: #ffc02e0d;
  --color-fillInformation-strong: #1a74a8;
  --color-fillInformation-weak: #26b0ff0d;
  
  /* Fill colors - States */
  --color-fillStrong: #000626e5;
  --color-fillWeak: #0015800a;
  --color-fillWeaker: #00158005;
  --color-fillWeakerSolid: #f7f7fc;
  --color-fillDisabled: #0011661a;
  --color-fillHover: #0015800a;
  --color-fillPress: #0011661a;
  --color-fillSelected: #0068ff;
  --color-fillOverlay: #000d4d73;
  --color-fillWhite: #ffffff;
  --color-fillYellow: #fec62e;
  
  /* Fill colors - Inverse */
  --color-fillInverseDisabled: #ffffff1f;
  --color-fillInverse-weak: #ffffff0f;

  /* Icon colors */
  --color-iconBrand: #0068ffcc;
  --color-iconError: #c73a3acc;
  --color-iconInformation: #1a74a8cc;
  --color-iconSuccess: #067a57cc;
  --color-iconWarning: #8f6c1acc;
  --color-iconNeutral: #000d4d73;
  --color-iconDisabled: #0011661a;
  --color-iconInverse: #ffffff99;
  --color-iconInverseDisabled: #ffffff1f;
  --color-iconInverse-strong: #ffffff;

  /* Stroke colors - Brand */
  --color-strokeBrand-strong: #0068ffcc;
  --color-strokeBrand-weak: #0068ff33;
  
  /* Stroke colors - Status */
  --color-strokeError-strong: #c73a3acc;
  --color-strokeError-weak: #c73a3a24;
  --color-strokeSuccess-strong: #067a57cc;
  --color-strokeSuccess-weak: #067a5733;
  --color-strokeWarning-strong: #8f6c1acc;
  --color-strokeWarning-weak: #8f6c1a33;
  --color-strokeInformation-strong: #1a74a8cc;
  --color-strokeInformation-weak: #1a74a833;
  
  /* Stroke colors - States */
  --color-strokeStrong: #000d4d73;
  --color-strokeWeak: #0011661a;
  --color-strokeFocus: #0068ff;
  --color-strokeSelected: #0068ff;
  --color-strokeDisabled: #0011661a;
  
  /* Stroke colors - Inverse */
  --color-strokeInverse-strong: #ffffff99;
  --color-strokeInverse-weak: #ffffff1f;
  --color-strokeInverseDisabled: #ffffff1f;

  /* Text colors */
  --color-textBrand: #0068ff;
  --color-textError: #c73a3a;
  --color-textStrong: #000626e6;
  --color-textWeak: #000833a6;
  --color-textDisabled: #000d4d73;
  --color-textInverse-strong: #ffffff;
  --color-textInverse-weak: #ffffffc7;
  --color-textInverseDisabled: #ffffff1f;

  /* Animations */
  --animate-fadeBg: fadeBg 2s ease-out;

  @keyframes fadeBg {
    0%, 70% { background-color: #0068ff; }
    100% { background-color: transparent; }
  }
}

/* ==========================================================================
   DAISYUI THEME CONFIGURATION
   ========================================================================== */

@plugin "daisyui/theme" {
  name: 'light';
  default: true;
  prefersdark: false;
  color-scheme: 'light';
  --color-base-100: #00158005;
  --color-base-200: #0015800a;
  --color-base-300: #0015800a;
  --color-base-content: #000626e6;
  --color-primary: #0068ff;
  --color-primary-content: #ffffff;
  --color-secondary: #fbfcfd;
  --color-secondary-content: #000833a6;
  --color-accent: #00158005;
  --color-accent-content: #0068ff;
  --color-neutral: #0015800a;
  --color-neutral-content: #000626e6;
  --color-info: #26b0ff0d;
  --color-info-content: #1a74a8;
  --color-success: #0acc920d;
  --color-success-content: #067a57;
  --color-warning: #ffc02e0d;
  --color-warning-content: #8f6c1a;
  --color-error: #ff4a4a0d;
  --color-error-content: #c73a3a;
  --radius-selector: 0.5rem;
  --radius-field: 0.4rem;
  --radius-box: 1rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  --depth: 1;
  --noise: 1;
}

/* ==========================================================================
   ROOT & BASE STYLES
   ========================================================================== */

:root, [data-theme] {
  --backgroundPrimary: #fff;
  --rounded-btn: 0.5rem;
  --fallback-b2: #0015800a;
  --tab-color: #000833a6;
  --fallback-pc: #000626e6;
  --fallback-bc: #000d4d73;
}

html, body {
  @apply overscroll-none bg-bgBase;
  --brand-color: #0068ff;
  --brand-color-light: #0090f0;
  --tags-border-color: rgba(0, 13, 77, 0.45);
  --tags-hover-border-color: rgba(0, 13, 77, 0.45);
  --chkbg: var(--brand-color);
  font-family: 'Inter', sans-serif;
  font-feature-settings: 'liga' 1, 'calt' 1;
  font-size: 16px;
}

code, pre, .code, .monospace {
  font-family: 'JetBrains Mono', monospace;
}

/* ==========================================================================
   BASE LAYER STYLES
   ========================================================================== */

@layer base {
  *, ::after, ::before, ::backdrop, ::file-selector-button {
    border-color: var(--color-strokeWeak, currentColor);
  }
}

/* ==========================================================================
   COMPONENT UTILITIES
   ========================================================================== */

@layer custom {
  /* Tab Components */
  .tab {
    --tab-bg: var(--color-bgOverlay);
    @apply h-auto! leading-none py-2;
  }
  
  .tab-not-active {
    --tab-color: var(--fallback-bc, oklch(var(--bc) / 0.5));
    --tab-bg: transparent;
    --tab-border-color: transparent;
    border-color: var(--tab-border-color);
    background-color: var(--tab-bg);
    color: var(--tab-color);
    padding-left: var(--tab-padding, 1rem);
    padding-right: var(--tab-padding, 1rem);
  }

  /* Tooltip & Dropdown Components */
  .tooltip:before, .tooltip:after {
    --tt-bg: var(--color-fillStrong);
    color: var(--color-textInverse-strong);
  }

  .dropdown-content {
    background-color: var(--color-bgOverlay);
    @apply border;
  }
  
  .dropdown summary {
    list-style: none;
  }
  
  .dropdown summary::-webkit-details-marker {
    display: none;
  }

  /* Modal Components */
  .modal-box {
    background-color: var(--color-bgOverlay);
  }

  /* Alert Components */
  .alert {
    --color-success: #eef8f7;
    --color-error: #eef8f7;
    --color-warning: #eef8f7;
    --color-info: #eef8f7;
  }
}

/* ==========================================================================
   TAB UTILITIES
   ========================================================================== */

@utility tabs-outline {
  & :is(.tab-active, [aria-selected='true']):not(.tab-disabled):not([disabled]),
  :is(input:checked),
  :is(label:has(:checked)) {
    @apply border border-strokeStrong shadow-sm text-textStrong;
  }

  & :is(.tab-active, [aria-selected='true']):not(.tab-disabled):not([disabled]):hover {
    @apply border border-strokeStrong shadow-sm text-textStrong;
  }
  
  .tabs-outline .tab {
    @apply !text-textStrong;
  }
}

@utility tabs-boxed {
  & :is(input:checked) {
    @apply bg-bgBase;
  }

  .tabs-outline .tab {
    @apply !text-textStrong;
  }
}

/* ==========================================================================
   TYPOGRAPHY & FONT UTILITIES
   ========================================================================== */

@utility inconsolata, @utility monospace {
  font-family: 'JetBrains Mono', monospace;
}

@utility icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  stroke: currentColor;
  fill: currentColor;
}

/* ==========================================================================
   BUTTON UTILITIES
   ========================================================================== */

@utility btn-indigo {
  @apply ml-3 text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500;
}

@utility btn-yellow {
  @apply btn-sm ml-3 text-black bg-yellow-300 hover:bg-yellow-400 focus:ring-yellow-500;
}

@utility btn-white-sm {
  @apply btn-sm bg-base-100 border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-indigo-500;
}

@utility blue-gr-btn {
  @apply bg-linear-to-b text-white font-medium from-blue-500 to-blue-600;
}

@utility blue-outline-btn {
  @apply border-blue-500 text-[var(--brand-color)] font-medium;
}

@utility btn-secondary {
  @apply text-[var(--brand-color)] border border-[var(--brand-color)] rounded-lg font-semibold;
}

@utility btn-primary {
  @apply bg-[var(--brand-color)] hover:bg-[var(--brand-color-light)] text-white;
}

/* ==========================================================================
   BADGE UTILITIES
   ========================================================================== */

.cbadge {
  @apply px-2 py-1.5 text-sm rounded-lg text-center;
}

.cbadge-sm {
  @apply px-1.5 py-1 text-xs rounded-lg text-center monospace;
}

@utility badge-2xx, @utility badge-success {
  @apply bg-green-100 text-green-700 font-medium;
}

@utility badge-error {
  @apply bg-red-100 text-red-700 font-medium;
}

@utility badge-3xx {
  @apply bg-amber-100 text-amber-800;
}

@utility badge-4xx {
  @apply bg-red-50 text-red-800;
}

@utility badge-blue {
  @apply text-[var(--brand-color)] bg-[#d6efff];
}

@utility badge-green {
  @apply text-green-500 bg-green-100;
}

@utility badge-lime {
  @apply bg-lime-200 text-lime-600;
}

@utility badge-pink {
  @apply bg-pink-100 text-pink-600;
}

@utility badge-cyan {
  @apply bg-cyan-100 text-cyan-600;
}

/* ==========================================================================
   INPUT & FORM UTILITIES
   ========================================================================== */

@utility input-txt {
  @apply shadow-xs focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md;
}

@utility dataTable-search {
  @apply rounded-sm;
}

.input, .select, .checkbox, .textarea {
  @apply shadow-none;
  --chkbg: var(--brand-color);
}

/* ==========================================================================
   TABLE UTILITIES
   ========================================================================== */

@utility ctable {
  & :where(.table-pin-rows thead tr) {
    @apply sticky top-0 z-10 bg-bgBase;
  }

  & :where(.table-pin-cols tr th) {
    @apply sticky left-0 right-0 z-10;
  }

  & td > div {
    @apply py-1;
  }

  & .log-row.htmx-added, & .log-row.htmx-settling {
    @apply bg-[#d6efff] transition-colors duration-300 ease-in-out;
  }
}

/* ==========================================================================
   LAYOUT & POSITIONING UTILITIES
   ========================================================================== */

@utility parent-hover {
  & .child-hover {
    visibility: hidden;
  }

  &:hover .child-hover {
    visibility: visible;
  }
}

@utility child-hover {
  .parent-hover & {
    visibility: hidden;
  }

  .parent-hover:hover & {
    visibility: visible;
  }
}

@utility neg-rotate-90 {
  @apply -rotate-90;
}

/* ==========================================================================
   BRAND & TEXT UTILITIES
   ========================================================================== */

.text-brand {
  @apply text-[var(--brand-color)];
}

.bg-brand {
  @apply bg-[var(--brand-color)];
}

/* ==========================================================================
   CUSTOM COMPONENT STYLES
   ========================================================================== */

@layer custom {
  /* Card Components */
  .card-round {
    @apply bg-bgBase border border-strokeWeak rounded-2xl;
  }

  /* Scrollbar Styling */
  .c-scroll::-webkit-scrollbar {
    width: 5px;
    height: 5px;
  }

  .c-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  .c-scroll::-webkit-scrollbar-thumb {
    @apply bg-gray-400 opacity-70;
    border-radius: 3px;
  }

  .c-scroll::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-300;
  }

  /* Log & Endpoint Styling */
  .expanded-log {
    @apply border-l-blue-200 bg-blue-50;
  }

  .expanded-log .status-indicator {
    @apply bg-blue-200;
  }

  .expanded-log .log-chevron {
    @apply rotate-90;
  }

  .log-item-tree-chevron {
    @apply cursor-pointer font-bold h-5 w-5 rotate-90 inline-block p-1 rounded-sm border border-slate-200 mr-1;
  }

  .collapsed .log-item-tree-chevron {
    @apply rotate-0;
  }

  /* Endpoint Method Colors */
  .path-method-get, .endpoint-get {
    @apply text-[var(--brand-color)] bg-green-600;
  }

  .path-method-post, .endpoint-post {
    @apply text-green-500 bg-blue-700;
  }

  .path-method-put, .endpoint-put {
    @apply text-orange-500 bg-indigo-600;
  }

  .path-method-delete, .endpoint-delete {
    @apply text-red-500 bg-orange-600;
  }

  .path-method-patch, .endpoint-patch {
    @apply text-purple-500 bg-amber-600;
  }

  .path-method-options, .endpoint-options {
    @apply text-gray-500 bg-red-700;
  }

  .path-method-head, .endpoint-head {
    @apply text-purple-500 bg-yellow-600;
  }

  .endpoint-trace {
    @apply bg-purple-600;
  }

  .endpoint {
    @apply w-20 rounded-lg text-center text-white text-sm p-2 m-2 inline-block;
  }

  /* HTMX States */
  .htmx-indicator {
    display: none;
  }

  .htmx-request.htmx-indicator {
    display: flex;
  }

  .htmx-request.htmx-indicator ~ span {
    display: none;
  }

  /* Tree & Collapsible Components */
  .tree-children {
    display: block;
  }

  .tree-children-count {
    display: none;
  }

  .collapsed .tree-children {
    display: none !important;
  }

  .collapsed .tree-children-count {
    display: inline !important;
  }

  /* Tab System */
  .t-tab-active {
    @apply font-bold border-[var(--brand-color)] text-[var(--brand-color)];
  }

  .t-tab-box-active {
    @apply shadow-[0px_4px_8px_-2px_rgba(0,0,0,0.04)] text-textStrong border border-strokeStrong bg-bgOverlay;
  }

  .tab:is(input[type='radio']) {
    width: max-content;
  }

  /* SDK & Integration Styling */
  .sdk_tab {
    @apply h-36 border rounded-sm w-full p-4;
  }

  .sdk_tab_active {
    @apply border-blue-500 border ring-3 ring-blue-500 shadow-lg;
  }

  /* CodeMirror Customization */
  .CodeMirror {
    font-family: 'JetBrains Mono', monospace;
    font-size: 16px;
    background-color: rgb(243 244 246);
  }

  /* Miscellaneous Components */
  .btn {
    @apply justify-center items-center leading-none;
  }

  .log_details_expanded {
    width: 850px;
  }

  .swagger_history_container {
    width: 200px !important;
  }

  .swagger_history_container .options_container {
    display: block;
  }

  .swagger_history_container .active {
    background-color: lightgrey;
  }
}

/* ==========================================================================
   THIRD-PARTY INTEGRATIONS
   ========================================================================== */

/* Tagify Customization */
.dash-variable .tagify {
  margin-top: -0.5rem;
  --tags-border-color: transparent;
  --tag-text-color: #000626e6;
}

.dash-variable .tagify__tag {
  min-width: 100%;
  margin-inline-end: 0.5em;
  padding-right: 1em;
}

.tagify__dropdown {
  max-width: 100% !important;
}

.dash-variable .tagify__tag-text {
  text-wrap-mode: nowrap !important;
}

.tagify--select::after {
  content: '›' !important;
  color: #000d4d73;
}

/* Grid Stack */
.grid-stack-handle, .nested-grid-stack-handle {
  @apply cursor-move;
}

/* ==========================================================================
   ANIMATIONS & EFFECTS
   ========================================================================== */

@keyframes rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.spotlight-border {
  position: relative;
  z-index: 0;
  overflow: hidden;
}

.spotlight-border::before {
  content: '';
  position: absolute;
  z-index: -2;
  inset: -50%;
  width: 200%;
  height: 200%;
  background-image: conic-gradient(
    #ffcc00, #33cc33, #3399ff,
    transparent, transparent, transparent, transparent,
    transparent, transparent, transparent, transparent,
    transparent, transparent, transparent, transparent, transparent
  );
  animation: rotate 4s linear infinite;
}

.spotlight-border::after {
  content: '';
  position: absolute;
  z-index: -1;
  inset: 1px;
  background: var(--color-fillWeakerSolid);
  border-radius: inherit;
}